"use strict";var e=require("../../common/vendor.js"),t=require("../../common/requestFunctions.js");require("../../common/constants.js"),require("../../utils/request.js");const o={name:"follow-item",props:{item:{type:Object,required:!0}},computed:{buttontext(){return this.isFollowed?1==this.item.mutual?"互相关注":"已关注":"关注"}},beforeCreate(){},data:()=>({isFollowed:!0}),methods:{onContentClick(){e.index.navigateTo({url:`/pages/user-home-page/user-home-page?userId=${this.item.id}`})},async onFollowButtonClick(){if(this.isFollowed){let o=this;e.index.showModal({title:"取消关注",content:"你确定要取消关注这个用户吗？",success:async function(e){e.confirm?await t.cancelAttention(o.item.id)&&(o.isFollowed=!1):e.cancel&&console.log("用户点击取消")}})}else await t.followUser(this.item.id)&&(this.isFollowed=!0)}}};var i=e._export_sfc(o,[["render",function(t,o,i,n,s,l){return{a:i.item.avatar+"?imageView2/1/w/100/h/100",b:e.t(i.item.username),c:e.t(l.buttontext),d:s.isFollowed?"#bbbbbb":"#75e4d2",e:e.o(((...e)=>l.onFollowButtonClick&&l.onFollowButtonClick(...e))),f:e.o((e=>l.onContentClick()))}}]]);wx.createComponent(i);
