"use strict";var o=require("../z-paging-utils.js");const t={props:{autoShowBackToTop:{type:Boolean,default:o.u.gc("autoShowBackToTop",!1)},backToTopThreshold:{type:[Number,String],default:o.u.gc("backToTopThreshold","400rpx")},backToTopImg:{type:String,default:o.u.gc("backToTopImg","")},backToTopWithAnimate:{type:Boolean,default:o.u.gc("backToTopWithAnimate",!0)},backToTopBottom:{type:[Number,String],default:o.u.gc("backToTopBottom","160rpx")},backToTopStyle:{type:Object,default:function(){return o.u.gc("backToTopStyle",{})}},enableBackToTop:{type:Boolean,default:o.u.gc("enableBackToTop",!0)}},data:()=>({backToTopClass:"zp-back-to-top zp-back-to-top-hide",lastBackToTopShowTime:0,showBackToTopClass:!1}),computed:{finalEnableBackToTop(){return!this.usePageScroll&&this.enableBackToTop},finalBackToTopThreshold(){return o.u.convertTextToPx(this.backToTopThreshold)},finalBackToTopStyle(){let t=this.backToTopStyle;return t.bottom||(t.bottom=this.windowBottom+o.u.convertTextToPx(this.backToTopBottom)+"px"),t.position||(t.position=this.usePageScroll?"fixed":"absolute"),t}},methods:{_backToTopClick(){!this.backToTopWithAnimate&&this._checkShouldShowBackToTop(1,0),this.scrollToTop(this.backToTopWithAnimate)},_checkShouldShowBackToTop(o,t){if(this.autoShowBackToTop){if(o!==t)if(o>this.finalBackToTopThreshold)this.showBackToTopClass||(this.showBackToTopClass=!0,this.lastBackToTopShowTime=(new Date).getTime(),setTimeout((()=>{this.backToTopClass="zp-back-to-top zp-back-to-top-show"}),300));else if(this.showBackToTopClass){let o=300;(new Date).getTime()-this.lastBackToTopShowTime<500&&(o=0),this.backToTopClass="zp-back-to-top zp-back-to-top-hide",setTimeout((()=>{this.showBackToTopClass=!1}),o)}}else this.showBackToTopClass=!1}}};exports.ZPBackToTop=t;
