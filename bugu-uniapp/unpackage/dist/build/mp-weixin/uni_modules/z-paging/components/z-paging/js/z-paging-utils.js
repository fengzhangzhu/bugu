"use strict";var e=require("../../../../../common/vendor.js"),t=require("./z-paging-i18n.js"),n=require("./z-paging-config.js"),r=require("../config/index.js");const o="Z-PAGING-REFRESHER-TIME-STORAGE-KEY";let u=null;function i(){try{return e.index.getStorageSync(o)}catch(t){return null}}function c(){return(new Date).getTime()}function a(e){return 1===(e=e.toString()).length?"0"+e:e}var g={gc:function(e,t){if(!u)if(r.zLocalConfig&&Object.keys(r.zLocalConfig).length)u=r.zLocalConfig;else{const e=n.zConfig.getConfig();n.zConfig&&e&&(u=e)}if(!u)return t;const o=u[function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e)];return void 0===o?t:o},setRefesrherTime:function(t,n){try{let r=i();r||(r={}),r[n]=t,e.index.setStorageSync(o,r)}catch(r){}},getRefesrherFormatTimeByKey:function(e){const n=function(e){const t=i();if(t){const n=t[e];if(n)return n}return null}(e);let r=t.zI18n.t.refresherUpdateTimeNoneText[t.zI18n.getLanguage()];return n&&(r=function(e){const n=new Date(e),r=new Date,o=new Date(e).setHours(0,0,0,0),u=(new Date).setHours(0,0,0,0),i=o-u;let c="";const g=function(e){const t=e.getHours(),n=e.getMinutes();return`${a(t)}:${a(n)}`}(n);c=0===i?t.zI18n.t.refresherUpdateTimeTodayText[t.zI18n.getLanguage()]:-864e5===i?t.zI18n.t.refresherUpdateTimeYesterdayText[t.zI18n.getLanguage()]:function(e,t=!0){const n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate();return t?`${n}-${a(r)}-${a(o)}`:`${a(r)}-${a(o)}`}(n,n.getFullYear()!==r.getFullYear());return`${c} ${g}`}(n)),`${t.zI18n.t.refresherUpdateTimeText[t.zI18n.getLanguage()]}${r}`},arrayIsEqual:function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},getTouch:function(e){let t=null;if(e.touches&&e.touches.length)t=e.touches[0];else if(e.changedTouches&&e.changedTouches.length)t=e.changedTouches[0];else{if(!e.datail||e.datail=={})return{touchX:0,touchY:0};t=e.datail}return{touchX:t.clientX,touchY:t.clientY}},getTouchFromZPaging:function e(t){if(t&&t.tagName&&"BODY"!==t.tagName&&"UNI-PAGE-BODY"!==t.tagName){const n=t.classList;return!(!n||!n.contains("z-paging-content"))||e(t.parentNode)}return!1},getParent:function e(t){return t?t.$refs.paging?t:e(t.$parent):null},convertTextToPx:function(t){if("[object Number]"===Object.prototype.toString.call(t))return t;let n=!1;return-1!==t.indexOf("rpx")||-1!==t.indexOf("upx")?(t=t.replace("rpx","").replace("upx",""),n=!0):-1!==t.indexOf("px")&&(t=t.replace("px","")),isNaN(t)?0:Number(n?e.index.upx2px(t):t)},getTime:c,getInstanceId:function(){let e=[];for(let t=0;t<10;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e.join("")+c()},consoleErr:function(e){console.error(`[z-paging]${e}`)},consoleWarn:function(e){console.warn(`[z-paging]${e}`)}};exports.u=g;
