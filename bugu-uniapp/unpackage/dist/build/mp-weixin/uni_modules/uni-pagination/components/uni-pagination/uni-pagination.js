"use strict";var e=require("../../../../common/vendor.js");const n={name:"UniPagination",emits:["update:modelValue","input","change"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7}},data:()=>({currentIndex:1,paperData:[]}),computed:{prevPageText(){return this.prevText||t("uni-pagination.prevText")},nextPageText(){return this.nextText||t("uni-pagination.nextText")},maxPage(){let e=1,t=Number(this.total),n=Number(this.pageSize);return t&&n&&(e=Math.ceil(t/n)),e},paper(){const e=this.currentIndex,t=this.pagerCount,n=this.total,r=this.pageSize;let i=[],a=[],u=Math.ceil(n/r);for(let h=0;h<u;h++)i.push(h+1);a.push(1);const c=i[i.length-(t+1)/2];return i.forEach(((n,r)=>{(t+1)/2>=e?n<t+1&&n>1&&a.push(n):e+2<=c?n>e-(t+1)/2&&n<e+(t+1)/2&&a.push(n):(n>e-(t+1)/2||u-t<n)&&n<i[i.length-1]&&a.push(n)})),u>t?((t+1)/2>=e?a[a.length-1]="...":e+2<=c?(a[1]="...",a[a.length-1]="..."):a[1]="...",a.push(i[i.length-1])):(t+1)/2>=e||e+2<=c||(a.shift(),a.push(i[i.length-1])),a}},watch:{current:{immediate:!0,handler(e,t){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}}},methods:{selectPage(e,t){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(t<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(t>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}};if(!Array){e.resolveComponent("uni-icons")()}Math;var r=e._export_sfc(n,[["render",function(t,n,r,i,a,u){return e.e({a:e.t(r.total),b:!0===r.showIcon||"true"===r.showIcon},!0===r.showIcon||"true"===r.showIcon?{c:e.p({color:"#666",size:"16",type:"left"})}:{d:e.t(u.prevPageText)},{e:e.n(1===a.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"),f:1===a.currentIndex?"":"uni-pagination--hover",g:e.o(((...e)=>u.clickLeft&&u.clickLeft(...e))),h:e.t(a.currentIndex),i:e.t(u.maxPage||0),j:e.f(u.paper,((t,n,r)=>({a:e.t(t),b:n,c:t===a.currentIndex?1:"",d:e.o((e=>u.selectPage(t,n)),n)}))),k:!0===r.showIcon||"true"===r.showIcon},!0===r.showIcon||"true"===r.showIcon?{l:e.p({color:"#666",size:"16",type:"right"})}:{m:e.t(u.nextPageText)},{n:e.n(a.currentIndex>=u.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"),o:a.currentIndex===u.maxPage?"":"uni-pagination--hover",p:e.o(((...e)=>u.clickRight&&u.clickRight(...e)))})}],["__scopeId","data-v-be39dc20"]]);wx.createComponent(r);
