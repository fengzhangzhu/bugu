"use strict";var e=require("../../../common/vendor.js"),t=require("../../../common/storageKeys.js"),n=require("../../../common/constants.js"),a=require("../../../utils/request.js"),s=require("../../../common/storageFunctions.js");const o={data:()=>({isRefresh:!1,navHeight:0,contentHeight:0,fansList:[]}),onReady(){let t=this;e.index.getSystemInfo({success(e){t.contentHeight=e.windowHeight}}),e.index.createSelectorQuery().select("#fans-scrollview").boundingClientRect((e=>{t.navHeight=e.top})).exec()},async onLoad(){let n=await s.getMyUserInfo(),a=t.getFansNumberChangedKey(n.id);e.index.setStorage({key:a,data:0}),this.fansList=await this.getMyFans(n.id)},computed:{scollerHeight(){let e=this.showEmojiPicker?this.emojiContentHeight:this.keyboardHeight;return this.contentHeight-e-this.navHeight-110}},methods:{onNarLeftClick(){e.index.navigateBack({delta:1})},onScrollRefresheRrefresh(){},async getMyFans(e){let t=await a.request({data:{method:"GET",group:"user",action:`${e}/fansList`,data:{userId:e},header:{"content-type":"application/x-www-form-urlencoded"}}});return setTimeout((()=>{this.isRefresh=!1}),500),t.data.code===n.REQUEST_SUCCEEDED_CODE?t.data.data:[]}}};if(!Array){(e.resolveComponent("uni-nav-bar")+e.resolveComponent("fan-item"))()}Math||((()=>"../../../uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.js")+(()=>"../../../components/fan-item/fan-item.js"))();var i=e._export_sfc(o,[["render",function(t,n,a,s,o,i){return{a:e.o((e=>i.onNarLeftClick())),b:e.p({"left-icon":"back",fixed:"true",backgroundColor:"#fff",color:"#808080",statusBar:"true"}),c:e.f(o.fansList,((t,n,a)=>({a:t.id,b:"6ea63bb3-1-"+a,c:e.p({item:t})}))),d:i.scollerHeight+"px",e:o.isRefresh,f:e.o((e=>i.onScrollRefresheRrefresh()))}}]]);wx.createPage(i);
