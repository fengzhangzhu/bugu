"use strict";var e=require("../../../common/vendor.js"),t=require("../../../common/constants.js"),o=require("../../../utils/request.js"),i=require("../../../common/storageFunctions.js"),n=require("../../../common/requestFunctions.js");require("../../../common/storageKeys.js");const f={data:()=>({userInfo:{},typeSelect:0}),onLoad(){this.refreshUserInfo()},methods:{onNarLeftClick(){e.index.navigateBack({delta:1})},async refreshUserInfo(){e.index.showLoading({title:"加载中"});let t=await i.getMyUserInfo();this.userInfo=await n.getUserinfo(t.id),e.index.hideLoading()},onVipTypeClick(e){this.typeSelect=e},onOpenVipClick(){e.index.showModal({title:"开通会员",content:"暂时还不能开通哦~，参加官方活动可以免费领取会员哦~"})},async getFreeVip(){e.index.showLoading({title:"领取中"}),(await o.request({data:{method:"PUT",group:"welfare",action:"vip/oneMonth",data:{},header:{"content-type":"application/x-www-form-urlencoded"}}})).data.code===t.REQUEST_SUCCEEDED_CODE&&(e.index.showToast({title:"领取成功",icon:"success"}),this.refreshUserInfo())},async getVipByActivitySum(){(await o.request({data:{method:"PUT",group:"welfare",action:"getByActivitySum",data:{},header:{"content-type":"application/x-www-form-urlencoded"}}})).data.code===t.REQUEST_SUCCEEDED_CODE&&(e.index.showToast({title:"领取成功",icon:"success"}),this.refreshUserInfo())}}};if(!Array){e.resolveComponent("uni-nav-bar")()}Math;var r=e._export_sfc(f,[["render",function(t,o,i,n,f,r){return e.e({a:e.o((e=>r.onNarLeftClick())),b:e.p({"left-icon":"back",fixed:"true",backgroundColor:"#fff",color:"#808080",statusBar:"true"}),c:f.userInfo.id},f.userInfo.id?{d:f.userInfo.avatar,e:e.t(f.userInfo.username),f:e.t(f.userInfo.vip&&f.userInfo.vip.remainDays>0?"您的会员剩余"+f.userInfo.vip.remainDays+"天":"开通布咕会员，享更多权益")}:{},{g:e.o((e=>r.onVipTypeClick(0))),h:0==f.typeSelect?"#ffefdb":"#ffffff",i:0==f.typeSelect?"2px solid #deb887":"2px solid #ffffff00",j:e.o((e=>r.onVipTypeClick(1))),k:1==f.typeSelect?"#ffefdb":"#ffffff",l:1==f.typeSelect?"2px solid #deb887":"2px solid #ffffff00",m:e.o((e=>r.onVipTypeClick(2))),n:2==f.typeSelect?"#ffefdb":"#ffffff",o:2==f.typeSelect?"2px solid #deb887":"2px solid #ffffff00",p:e.o(((...e)=>r.getVipByActivitySum&&r.getVipByActivitySum(...e)))})}]]);wx.createPage(r);
