"use strict";var e=require("../../../common/vendor.js"),n=require("../../../common/constants.js"),t=require("../../../common/storageKeys.js");const i={data:()=>({RingingToneList:n.RingingToneList,refreshDynamicSound:{},newMessageSound:{},REFRESH_DYNAMIC_SOUND:t.REFRESH_DYNAMIC_SOUND,NEW_MESSAGE_SOUND:t.NEW_MESSAGE_SOUND,ringingToneSelected:0,selectType:t.REFRESH_DYNAMIC_SOUND}),onLoad(){let i=e.index.getStorageSync(t.REFRESH_DYNAMIC_SOUND);i||(i=n.RingingToneList[6]),this.refreshDynamicSound=i;let o=e.index.getStorageSync(t.NEW_MESSAGE_SOUND);o||(o=n.RingingToneList[0]),this.newMessageSound=o},methods:{onNarLeftClick(){e.index.navigateBack({delta:1})},onChangeSoundItemClick(e){this.selectType=e,e===t.REFRESH_DYNAMIC_SOUND?this.ringingToneSelected=this.refreshDynamicSound.value:e===t.NEW_MESSAGE_SOUND&&(this.ringingToneSelected=this.newMessageSound.value),this.$refs.soundSelectPopup.open()},onRadioItemClick(n){this.ringingToneSelected=n.value;const t=e.index.createInnerAudioContext();t.autoplay=!0,t.src=n.url,this.changeSound(n,this.selectType)},async changeSound(n,i){await e.index.setStorage({key:i,data:n}),i===t.REFRESH_DYNAMIC_SOUND?this.refreshDynamicSound=n:i===t.NEW_MESSAGE_SOUND&&(this.newMessageSound=n)}}};if(!Array){(e.resolveComponent("uni-nav-bar")+e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list")+e.resolveComponent("action-sheet"))()}Math||((()=>"../../../uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.js")+(()=>"../../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../../uni_modules/uni-list/components/uni-list/uni-list.js")+(()=>"../../../components/action-sheet/action-sheet.js"))();var o=e._export_sfc(i,[["render",function(n,t,i,o,s,a){return{a:e.o(a.onNarLeftClick),b:e.p({"left-icon":"back",fixed:"true",backgroundColor:"#fff",color:"#808080",statusBar:"true"}),c:e.o((e=>a.onChangeSoundItemClick(s.REFRESH_DYNAMIC_SOUND))),d:e.p({clickable:!0,showArrow:!0,title:"刷新动态",rightText:s.refreshDynamicSound.label}),e:e.o((e=>a.onChangeSoundItemClick(s.NEW_MESSAGE_SOUND))),f:e.p({clickable:!0,showArrow:!0,title:"消息通知",rightText:s.newMessageSound.label}),g:e.f(s.RingingToneList,((n,t,i)=>({a:e.t(n.label),b:n,c:n.value==s.ringingToneSelected,d:e.o((e=>a.onRadioItemClick(n)),n),e:n}))),h:e.sr("soundSelectPopup","72380927-4"),i:e.p({needHead:!0,title:"铃声选择"})}}]]);wx.createPage(o);
