"use strict";var e=require("../../../common/vendor.js"),t=require("../../../common/constants.js"),o=require("../../../utils/request.js");const r={data:()=>({modular:"activity",reportTypes:t.reportTypes,reportSelected:t.reportTypes[t.reportTypes.length-1],reportReason:"",reportSuccess:!1,objectId:-1,objectType:""}),onLoad(e){this.objectId=e.objectId,this.objectType=e.objectType;let t=e.modular;t&&(this.modular=t)},methods:{onNarLeftClick(){e.index.navigateBack({delta:1})},onReportTypesChange(e){this.reportSelected=e.detail.value},onTextInput(e){this.reportReason=e.detail.value},async onReportButtonClick(){"其他"===this.reportSelected&&this.reportReason.length<1?e.index.showToast({title:"请先输入原因！",icon:"none"}):this.reportSuccess=await this.reportUser(this.objectId,this.objectType,this.reportSelected+"-"+this.reportReason)},async reportUser(e,r,n){let a={};return a="question"===this.modular?await o.request({data:{method:"POST",modular:"dhy",group:"helping",action:"inform",data:{objectId:e,objectType:r,reason:n},header:{"content-type":"application/x-www-form-urlencoded"}}}):await o.request({data:{method:"POST",group:"user",action:"inform",data:{objectId:e,objectType:r,reason:n},header:{"content-type":"application/x-www-form-urlencoded"}}}),a.data.code===t.REQUEST_SUCCEEDED_CODE}}};if(!Array){(e.resolveComponent("uni-nav-bar")+e.resolveComponent("uni-transition"))()}Math||((()=>"../../../uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.js")+(()=>"../../../uni_modules/uni-transition/components/uni-transition/uni-transition.js"))();var n=e._export_sfc(r,[["render",function(t,o,r,n,a,s){return e.e({a:e.o((e=>s.onNarLeftClick())),b:e.p({"left-icon":"back",fixed:"true",backgroundColor:"#fff",color:"#808080",statusBar:"true"}),c:!a.reportSuccess},a.reportSuccess?{}:{d:e.f(a.reportTypes,((t,o,r)=>({a:e.t(t),b:t,c:t===a.reportSelected,d:t}))),e:e.o(((...e)=>s.onReportTypesChange&&s.onReportTypesChange(...e))),f:a.reportReason,g:49-a.reportSelected.length,h:"其他"===a.reportSelected?"举报详细说明(必填)":"举报详细说明(选填)",i:e.o(((...e)=>s.onTextInput&&s.onTextInput(...e))),j:e.o(((...e)=>s.onReportButtonClick&&s.onReportButtonClick(...e)))},{k:e.t("举报成功,我们会尽快处理\n\t\t\t\t\t  感谢您为维护社区氛围做出的贡献"),l:e.p({"mode-class":"zoom-in",show:a.reportSuccess})})}]]);wx.createPage(n);
