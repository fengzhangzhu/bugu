"use strict";var e=require("../../common/vendor.js"),t=require("../../common/storageKeys.js"),i=require("../../common/constants.js"),o=require("../../utils/request.js");const n={emits:["onRefreshing"],props:{scollerHeight:{type:Number,require:!0},refresherEnabled:{type:Boolean,require:!0}},data:()=>({}),mounted(){this.getHotArticles(1,10)},methods:{onActivityItemClick(t){e.index.navigateTo({url:`/pages/activity-info/activity-info?activityId=${t.id}`})},onQuestionItemClick(t){e.index.navigateTo({url:`/pages/activity-info/question-info/question-info?questionId=${t}`})},async getHotArticles(e,t,n=!1){o.request({data:{method:"GET",group:"activity",action:"hot",data:{page:e},header:{"content-type":"application/x-www-form-urlencoded"}}}).then((e=>{if(e.data.code===i.REQUEST_SUCCEEDED_CODE){e.data.data.pageSum;let t=e.data.data.list;this.$refs.hotActivityPaging.complete(t)}else this.$refs.hotActivityPaging.complete(!1)}),(()=>{this.$refs.hotActivityPaging.complete(!1)}))},async getHotQuestions(e,t,n=!1){o.request({data:{method:"GET",group:"question",action:"hot",data:{page:e},header:{"content-type":"application/x-www-form-urlencoded"}}}).then((e=>{if(e.data.code===i.REQUEST_SUCCEEDED_CODE){let t=e.data.data.list;this.$refs.hotQuestionPaging.complete(t)}else this.$refs.hotQuestionPaging.complete(!1)}),(()=>{this.$refs.hotQuestionPaging.complete(!1)}))},async playRefreshDynamicSound(){let o=e.index.getStorageSync(t.REFRESH_DYNAMIC_SOUND);o||(o=i.RingingToneList[6]);const n=e.index.createInnerAudioContext();n.autoplay=!0,n.src=o.url}}};if(!Array){(e.resolveComponent("hot-activity-item")+e.resolveComponent("z-paging"))()}Math||((()=>"../../components/hot-activity-item/hot-activity-item.js")+(()=>"../../uni_modules/z-paging/components/z-paging/z-paging.js"))();var a=e._export_sfc(n,[["render",function(t,i,o,n,a,s){return{a:e.w((({item:t,index:i},o,n)=>({a:"hot"+t.id,b:e.o((e=>s.onActivityItemClick(t))),c:"4678e4e5-1-"+n+",4678e4e5-0",d:e.p({hotNumber:t.hot,hotText:t.text,hotPic:t.pic&&t.pic.length>0?t.pic[0]:"",isVideo:1==t.video,ranking:i+1}),e:n,f:o})),{name:"cell",path:"a",vueId:"4678e4e5-0"}),b:e.sr("hotActivityPaging","4678e4e5-0"),c:e.o(s.getHotArticles),d:e.p({"default-page-size":10,"use-virtual-list":!0,"cell-height-mode":"dynamic"})}}]]);wx.createComponent(a);
