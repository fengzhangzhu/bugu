{"version":3,"sources":["uni-app:///main.js","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/publish/publish.vue?4c3f","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/publish/publish.vue?e98f","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/publish/publish.vue?93cb","uni-app:///pages/publish/publish.vue?vue&type=script&lang=ts&","uni-app:///pages/publish/publish.vue","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/publish/publish.vue?834d","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/publish/publish.vue?a50c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","articleText","imageFiles","videoFiles","labels","labelSelect","labelSelectIds","isAnonymity","privateSelect","privateSettingGroup","showEmojiPicker","labelPage","isShowAnonymity","buttonIsLoading","labelSearchText","beforeMount","getAnonymityState","getLabels","methods","onTextareaInput","e","detail","value","onImageFilesSelect","tempFiles","tempFilePaths","forEach","item","index","push","url","file","setEmoj","onSwitchClick","onPrivaterChooseClick","$refs","privateSelectPopup","open","onPrivaterAdioChange","evt","i","length","onAddLabelClick","labelPopup","onChooseLabelClick","indexOf","id","uni","showToast","title","icon","splice","onSearchInput","console","log","onSearchConfirm","searchLabels","onRefreshLabelClick","onImageIconClick","showModal","content","_this","maxNumber","chooseImage","count","sizeType","sourceType","success","res","Array","isArray","onCameraIconClick","onVideoIconClick","userInfo","confirm","navigateTo","cancel","isVerify","vip","remainDays","chooseMedia","mediaType","maxDuration","camera","duration","tempFilePath","onEmojiIconClick","onEmojiPickerCloseClick","context","method","group","action","header","code","REQUEST_SUCCEEDED_CODE","addLabel","label_id","hot","userMSg","page","result","list","pageSum","hava_data","j","prepareBeforePublic","showLoading","isVideo","uploadMedias","mediaFiles","filesNumber","publishArticle","sum","FileVouchers","fileName","uploadFile","UploadUrl","filePath","name","formData","aes","decrypt","token","fileRes","text","visibility","labelIds","video","pic","JSON","stringify","hideLoading","switchTab"],"mappings":"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","file":"pages/publish/publish.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/publish/publish.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./publish.vue?vue&type=template&id=177a8126&\"\nvar renderjs\nimport script from \"./publish.vue?vue&type=script&lang=ts&\"\nexport * from \"./publish.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./publish.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/publish/publish.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publish.vue?vue&type=template&id=177a8126&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniFilePicker: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker\" */ \"@/uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.vue\"\n      )\n    },\n    uniTag: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-tag/components/uni-tag/uni-tag\" */ \"@/uni_modules/uni-tag/components/uni-tag/uni-tag.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniTransition: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-transition/components/uni-transition/uni-transition\" */ \"@/uni_modules/uni-transition/components/uni-transition/uni-transition.vue\"\n      )\n    },\n    emoji: function() {\n      return import(\n        /* webpackChunkName: \"components/emoji/emoji\" */ \"@/components/emoji/emoji.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniSearchBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar\" */ \"@/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue\"\n      )\n    },\n    actionSheet: function() {\n      return import(\n        /* webpackChunkName: \"components/action-sheet/action-sheet\" */ \"@/components/action-sheet/action-sheet.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.labels, function(item, __i0__) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.labelSelectIds.indexOf(item.id)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publish.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publish.vue?vue&type=script&lang=ts&\"","import { getMyUserInfo } from \"@/common/storageFunctions\";\r\nimport aes from '@/utils/aes/export';\r\nimport { privateSettingGroup, REQUEST_SUCCEEDED_CODE, UploadUrl } from \"@/common/constants\";\r\nimport { request } from '@/utils/request';\r\n/**\r\n * publish 发布动态界面\r\n * @description 发布动态界面\r\n * @Author: 穆兰\r\n * @Date: 2022/1/9\r\n * @LastEditors: 穆兰\r\n * @LastEditTime: 2022/1/9\r\n */\r\nexport default {\r\n    data() {\r\n        return {\r\n            articleText: '',\r\n            imageFiles: [],\r\n            videoFiles: [],\r\n            labels: [],\r\n            labelSelect: [],\r\n            labelSelectIds: [],\r\n            isAnonymity: 0,\r\n            privateSelect: 0,\r\n            privateSettingGroup,\r\n            showEmojiPicker: false,\r\n            labelPage: 1,\r\n            isShowAnonymity: false,\r\n            buttonIsLoading: false,\r\n            labelSearchText: '' //搜索标签的文字\r\n        };\r\n    },\r\n    async beforeMount() {\r\n        this.isShowAnonymity = await this.getAnonymityState();\r\n        this.getLabels(this.labelPage);\r\n    },\r\n    methods: {\r\n        /**\r\n         * @description 输入内容时\r\n         */\r\n        onTextareaInput(e) {\r\n            this.articleText = e.detail.value;\r\n        },\r\n        /**\r\n         * @description 选择图片时\r\n         * @param {Object} e\r\n         */\r\n        onImageFilesSelect(e) {\r\n            let tempFiles = this.imageFiles;\r\n            e.tempFilePaths.forEach((item, index) => {\r\n                tempFiles.push({\r\n                    url: item,\r\n                    file: e.tempFiles[index]\r\n                });\r\n            });\r\n            this.imageFiles = tempFiles;\r\n        },\r\n        /**\r\n         * @description 选择表情\r\n         */\r\n        setEmoj(item) {\r\n            this.articleText = this.articleText + item;\r\n        },\r\n        /**\r\n         * @description 点击匿名开关\r\n         */\r\n        onSwitchClick() {\r\n            this.isAnonymity = this.isAnonymity == 1 ? 0 : 1;\r\n        },\r\n        /**\r\n         * @description 点击隐私选择\r\n         */\r\n        onPrivaterChooseClick() {\r\n            this.$refs.privateSelectPopup.open();\r\n        },\r\n        /**\r\n         * @description 点击选择某个隐私权限选项\r\n         */\r\n        onPrivaterAdioChange(evt) {\r\n            for (let i = 0; i < this.privateSettingGroup.length; i++) {\r\n                if (this.privateSettingGroup[i] === evt.detail.value) {\r\n                    this.privateSelect = i;\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击添加标签\r\n         */\r\n        onAddLabelClick() {\r\n            this.$refs.labelPopup.open();\r\n        },\r\n        /**\r\n         * @description 点击标签\r\n         */\r\n        onChooseLabelClick(item) {\r\n            let labelSelect = this.labelSelect;\r\n            let labelSelectIds = this.labelSelectIds;\r\n            if (labelSelectIds.indexOf(item.id) == -1) {\r\n                if (this.labelSelect.length >= 5) {\r\n                    uni.showToast({\r\n                        title: '最多只能选择五个哦~',\r\n                        icon: 'none'\r\n                    });\r\n                    return;\r\n                }\r\n                labelSelectIds.push(item.id);\r\n                labelSelect.push(item);\r\n            }\r\n            else {\r\n                for (let i = 0; i < labelSelectIds.length; i++) {\r\n                    if (labelSelectIds[i] == item.id) {\r\n                        labelSelectIds.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                for (let i = 0; i < labelSelect.length; i++) {\r\n                    if (labelSelect[i].id == item.id) {\r\n                        labelSelect.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this.labelSelect = labelSelect;\r\n            this.labelSelectIds = labelSelectIds;\r\n        },\r\n        /**\r\n         * @description 搜索输入框输入时\r\n         */\r\n        onSearchInput(e) {\r\n            console.log(e);\r\n            this.labelSearchText = e;\r\n        },\r\n        /**\r\n         * @description 搜索框确认时\r\n         */\r\n        onSearchConfirm() {\r\n            if (this.labelSearchText.length < 1) {\r\n                uni.showToast({\r\n                    title: \"请先输入内容\",\r\n                    icon: \"none\"\r\n                });\r\n            }\r\n            else {\r\n                this.searchLabels(this.labelSearchText);\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击标签选择的更换按钮\r\n         */\r\n        onRefreshLabelClick() {\r\n            this.getLabels(this.labelPage);\r\n        },\r\n        /**\r\n         * @description 点击照片选择图标\r\n         */\r\n        onImageIconClick() {\r\n            if (this.videoFiles.length > 0) {\r\n                uni.showModal({\r\n                    title: '无法选择图片',\r\n                    content: '一个动态不支持同时发布视频和图片哦~'\r\n                });\r\n                return;\r\n            }\r\n            let _this = this;\r\n            let maxNumber = 9 - this.imageFiles.length;\r\n            if (maxNumber <= 0) {\r\n                uni.showToast({\r\n                    title: '最多选择9张哦~',\r\n                    icon: 'none'\r\n                });\r\n            }\r\n            else {\r\n                uni.chooseImage({\r\n                    count: maxNumber,\r\n                    sizeType: ['original', 'compressed'],\r\n                    sourceType: ['album'],\r\n                    success: function (res) {\r\n                        // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\r\n                        let tempFiles = _this.imageFiles;\r\n                        if (Array.isArray(res.tempFilePaths)) {\r\n                            res.tempFilePaths.forEach((item, index) => {\r\n                                tempFiles.push({\r\n                                    url: item,\r\n                                    file: res.tempFiles[index]\r\n                                });\r\n                            });\r\n                        }\r\n                        _this.imageFiles = tempFiles;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击相机图标\r\n         */\r\n        onCameraIconClick() {\r\n            if (this.videoFiles.length > 0) {\r\n                uni.showModal({\r\n                    title: '无法选择图片',\r\n                    content: '一个动态不支持同时发布视频和图片哦~'\r\n                });\r\n                return;\r\n            }\r\n            let _this = this;\r\n            let maxNumber = 9 - this.imageFiles.length;\r\n            if (maxNumber <= 0) {\r\n                uni.showToast({\r\n                    title: '最多选择9张哦~',\r\n                    icon: 'none'\r\n                });\r\n            }\r\n            else {\r\n                uni.chooseImage({\r\n                    count: 1,\r\n                    sizeType: ['original', 'compressed'],\r\n                    sourceType: [\r\n                        'camera'\r\n                    ],\r\n                    success: function (res) {\r\n                        // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\r\n                        var tempFiles = _this.imageFiles;\r\n                        if (Array.isArray(res.tempFilePaths)) {\r\n                            res.tempFilePaths.forEach((item, index) => {\r\n                                tempFiles.push({\r\n                                    url: item,\r\n                                    file: res.tempFiles[index]\r\n                                });\r\n                            });\r\n                            _this.imageFiles = tempFiles;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击视频选择图标\r\n         */\r\n        async onVideoIconClick() {\r\n            let userInfo = await getMyUserInfo();\r\n            if (!userInfo) {\r\n                uni.showModal({\r\n                    title: '无法选择',\r\n                    content: '您还未登录，请先登录',\r\n                    success: function (res) {\r\n                        if (res.confirm) {\r\n                            uni.navigateTo({\r\n                                url: '../login/login'\r\n                            });\r\n                        }\r\n                        else if (res.cancel) {\r\n                            console.log('用户点击取消');\r\n                        }\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n            else {\r\n                if (userInfo.isVerify == 1 && userInfo.vip && userInfo.vip.remainDays > 0) { }\r\n                else {\r\n                    uni.showModal({\r\n                        title: \"选择失败\",\r\n                        content: \"只有实名认证并且为vip用户才能发布视频哦~\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            if (this.imageFiles.length > 0) {\r\n                uni.showModal({\r\n                    title: '无法选择视频',\r\n                    content: '一个动态不支持同时发布视频和图片哦~'\r\n                });\r\n                return;\r\n            }\r\n            if (this.videoFiles.length >= 1) {\r\n                uni.showModal({\r\n                    title: '无法选择视频',\r\n                    content: '一个动态只能选择一个视频'\r\n                });\r\n                return;\r\n            }\r\n            uni.chooseMedia({\r\n                count: 1,\r\n                mediaType: ['video'],\r\n                sourceType: ['album', 'camera'],\r\n                maxDuration: 210,\r\n                camera: 'back',\r\n                success: (res) => {\r\n                    console.log(res.tempFiles);\r\n                    if (res.tempFiles[0].duration > 210) {\r\n                        uni.showModal({\r\n                            title: '选择失败',\r\n                            content: '只能选择3分30秒以下的视屏哦~'\r\n                        });\r\n                        return;\r\n                    }\r\n                    this.videoFiles = [{\r\n                            url: res.tempFiles[0].tempFilePath\r\n                        }];\r\n                    console.log(this.videoFiles);\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击表情的图标\r\n         */\r\n        onEmojiIconClick() {\r\n            this.showEmojiPicker = !this.showEmojiPicker;\r\n        },\r\n        onEmojiPickerCloseClick() {\r\n            this.showEmojiPicker = false;\r\n        },\r\n        /**\r\n         * @description 搜索动态标签\r\n         * @param context 搜索的关键字\r\n         */\r\n        async searchLabels(context) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'label/query',\r\n                    data: {\r\n                        content: context\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            console.log(\"res.data\", res.data);\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let labels = res.data.data;\r\n                if (labels.length <= 0) {\r\n                    let label_id = await this.addLabel(context);\r\n                    if (label_id != 0) {\r\n                        this.labels = [{\r\n                                id: label_id,\r\n                                content: this.labelSearchText,\r\n                                hot: 0\r\n                            }];\r\n                        this.labelSearchText = '';\r\n                    }\r\n                }\r\n                else {\r\n                    this.labels = labels;\r\n                    this.labelSearchText = '';\r\n                }\r\n            }\r\n            else {\r\n                uni.showToast({\r\n                    title: res.data.userMSg,\r\n                    icon: 'none'\r\n                });\r\n            }\r\n        },\r\n        /**\r\n         *\r\n         * @description 添加标签\r\n         * @param content 标签的内容\r\n         * @returns {number} 标签的id\r\n         */\r\n        async addLabel(content) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'PUT',\r\n                    group: 'activity',\r\n                    action: 'label/add',\r\n                    data: {\r\n                        content: content\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                return res.data.data;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n        },\r\n        /**\r\n         * @description 获取动态标签\r\n         */\r\n        async getLabels(page) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'label/list',\r\n                    data: {\r\n                        page: page\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let result = res.data.data;\r\n                let labels = res.data.data.list;\r\n                if (page < result.pageSum) {\r\n                    this.labelPage = this.labelPage + 1; //下次刷新时更新到下一页\r\n                }\r\n                else {\r\n                    this.labelPage = 1; //下次刷新时更新回到第一页\r\n                }\r\n                //将已经选择的标签加入，便于用户取消\r\n                for (let i = 0; i < this.labelSelect.length; i++) {\r\n                    let hava_data = false;\r\n                    for (let j = 0; j < labels.length; j++) {\r\n                        if (labels[j].id == this.labelSelect[i].id) {\r\n                            hava_data = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!hava_data) {\r\n                        labels.push(this.labelSelect[i]);\r\n                    }\r\n                }\r\n                this.labels = labels;\r\n                console.log(res.data);\r\n            }\r\n            else {\r\n                console.log(res.data);\r\n            }\r\n        },\r\n        /**\r\n         * @description 获取是否显示咕咕状态\r\n         * @returns {boolean}\r\n         */\r\n        async getAnonymityState() {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'anonymity/state',\r\n                    data: {},\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                return res.data.data;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        },\r\n        /**\r\n         * @description 发布前的准备操作,包括上传图片等\r\n         */\r\n        async prepareBeforePublic() {\r\n            // 登录检查\r\n            let userInfo = await getMyUserInfo();\r\n            if (!userInfo) {\r\n                uni.showModal({\r\n                    title: '发布失败',\r\n                    content: '您还未登录，请先登录',\r\n                    success: function (res) {\r\n                        if (res.confirm) {\r\n                            uni.navigateTo({\r\n                                url: '../login/login'\r\n                            });\r\n                        }\r\n                        else if (res.cancel) {\r\n                            console.log('用户点击取消');\r\n                        }\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n            // 内容检查\r\n            if (this.articleText.length <= 0 && this.imageFiles.length <= 0 && this.videoFiles\r\n                .length <= 0) {\r\n                uni.showToast({\r\n                    title: '请先输入内容',\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            uni.showLoading({\r\n                title: '正在发布',\r\n            });\r\n            this.buttonIsLoading = true;\r\n            let isVideo = 0;\r\n            let uploadMedias = [];\r\n            let mediaFiles = [];\r\n            var _this = this;\r\n            let filesNumber = 0;\r\n            // 文件检查\r\n            if (this.imageFiles.length > 0) {\r\n                filesNumber = this.imageFiles.length;\r\n                mediaFiles = this.imageFiles;\r\n                if (this.videoFiles.length > 0) {\r\n                    uni.showModal({\r\n                        title: '发布失败',\r\n                        content: '一个动态不能同时发布视频和图片哦~'\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                if (this.videoFiles.length > 0) {\r\n                    if (userInfo.isVerify == 1 && userInfo.vip && userInfo.vip.remainDays >\r\n                        0) {\r\n                        isVideo = 1;\r\n                        filesNumber = this.videoFiles.length;\r\n                        mediaFiles = this.videoFiles;\r\n                    }\r\n                    else {\r\n                        uni.showModal({\r\n                            title: \"发布失败\",\r\n                            content: \"只有实名认证并且为vip用户才能发布视频哦~\"\r\n                        });\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            //没有图片或视频则直接上传\r\n            if (filesNumber < 1) {\r\n                this.publishArticle(this.articleText, uploadMedias, this.privateSelect, this\r\n                    .isAnonymity, this.labelSelectIds);\r\n                return;\r\n            }\r\n            //先获取上传图片的凭证\r\n            let FileVouchers;\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'publish/getToken',\r\n                    data: {\r\n                        sum: filesNumber\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                },\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                FileVouchers = res.data.data;\r\n                console.log(FileVouchers);\r\n            }\r\n            else {\r\n                uni.showToast({\r\n                    title: \"没有权限，请先登录\",\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            //保存要上传的文件名\r\n            FileVouchers.forEach((item) => {\r\n                uploadMedias.push(item.fileName);\r\n            });\r\n            mediaFiles.forEach(async (item, index) => {\r\n                uni.uploadFile({\r\n                    url: UploadUrl,\r\n                    filePath: item.url,\r\n                    name: 'file',\r\n                    formData: {\r\n                        'key': FileVouchers[index].fileName,\r\n                        'token': aes.decrypt(FileVouchers[index].token)\r\n                    },\r\n                    success(fileRes) {\r\n                        console.log(fileRes);\r\n                        if (index === mediaFiles.length -\r\n                            1) { //全部上传完成后，发布动态\r\n                            _this.publishArticle(_this.articleText, uploadMedias, _this\r\n                                .privateSelect, _this.isAnonymity, _this.labelSelectIds, isVideo);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        /**\r\n         * @description 发布动态\r\n         * @param text 文字内容\r\n         * @param uploadMedias 需要上传的图片名\r\n         * @param visibility 动态可见性\r\n         * @param isAnonymity 是否隐身\r\n         * @param labelIds 标签\r\n         * @param video 是否为视频\r\n         */\r\n        async publishArticle(text, uploadMedias, visibility, isAnonymity, labelIds, video = 0) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'POST',\r\n                    group: 'activity',\r\n                    action: 'publish',\r\n                    data: {\r\n                        text: text,\r\n                        pic: JSON.stringify(uploadMedias),\r\n                        visibility: visibility,\r\n                        isAnonymity: isAnonymity,\r\n                        labelIds: labelIds.length > 0 ? JSON.stringify(labelIds) : '',\r\n                        video: video\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            uni.hideLoading();\r\n            this.buttonIsLoading = false;\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                uni.showToast({\r\n                    title: '发布成功',\r\n                    icon: 'success'\r\n                });\r\n                this.articleText = '';\r\n                this.imageFiles = [];\r\n                this.labelSelect = [];\r\n                this.labelSelectIds = [];\r\n                this.videoFiles = [];\r\n                uni.switchTab({\r\n                    url: '/pages/index/index'\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publish.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publish.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642830372689\n      var cssReload = require(\"E:/HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}