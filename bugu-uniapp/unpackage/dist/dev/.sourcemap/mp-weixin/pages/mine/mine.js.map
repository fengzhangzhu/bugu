{"version":3,"sources":["webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/mine/mine.vue?3acf","uni-app:///main.js","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/mine/mine.vue?ac69","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/mine/mine.vue?e05c","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/mine/mine.vue?b5d5","uni-app:///pages/mine/mine.vue?vue&type=script&lang=ts&","uni-app:///pages/mine/mine.vue","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/mine/mine.vue?3954"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","privateSettingGroup","privateSelected","isRefresh","userInfo","myArticles","articlesPage","haveMoreArtices","editArticleItem","numberChange","followedNumber","fansNumber","viewsNumber","lastClickTime","onLoad","refreshUserInfo","onShow","_this","uni","$once","REFRESH_USERINFO","needRefresh","methods","onNavigateTo","page_url","console","log","navigateTo","url","showModal","title","content","success","res","confirm","initNumberChange","getMyArticle","id","FOLLOWED_NUMBER_CHANGED","FANS_NUMBER_CHANGED","VIEWS_NUMBER_CHANGED","followedNumberChanged","getStorageSync","fansNumberChanged","viewsNumberChanged","userInfoNow","attentionSum","beAttentionSum","visitorSum","setStorage","key","USER_INFO","onSettingButtonClick","onBackgroundClick","clickTime","Date","now","showToast","icon","vip","remainDays","chooseImage","count","sizeType","sourceType","tempFiles","tempFilePaths","changeBackgroud","onFollowedNumberClick","onFansNumberClick","onVisitorNumberClick","onRefresh","onPrivaterAdioChange","evt","detail","value","visibility","indexOf","showLoading","ChangeVisibility","hideLoading","i","length","$refs","articleActionPopup","close","onActivityDeleteButtonClick","confirmText","cancelText","splice","onActivityItemClick","item","onActivityItemMoreClick","open","onScrolltolower","userId","page","method","group","action","header","setTimeout","code","REQUEST_SUCCEEDED_CODE","result","artices","list","pageSum","concat","ArticleId","fileUrl","fileName","fileToken","token","uploadFile","UploadUrl","filePath","name","formData","aes","decrypt","fileRes","background","backgroundChangeRes"],"mappings":"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","file":"pages/mine/mine.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642830372155\n      var cssReload = require(\"E:/HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=ts&\"\nexport * from \"./mine.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=template&id=dcbcfe34&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniBadge: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-badge/components/uni-badge/uni-badge\" */ \"@/uni_modules/uni-badge/components/uni-badge/uni-badge.vue\"\n      )\n    },\n    customTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-tabs/custom-tabs\" */ \"@/components/custom-tabs/custom-tabs.vue\"\n      )\n    },\n    customTabPane: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-tab-pane/custom-tab-pane\" */ \"@/components/custom-tab-pane/custom-tab-pane.vue\"\n      )\n    },\n    userActivityItem: function() {\n      return import(\n        /* webpackChunkName: \"components/user-activity-item/user-activity-item\" */ \"@/components/user-activity-item/user-activity-item.vue\"\n      )\n    },\n    actionSheet: function() {\n      return import(\n        /* webpackChunkName: \"components/action-sheet/action-sheet\" */ \"@/components/action-sheet/action-sheet.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=ts&\"","import { REQUEST_SUCCEEDED_CODE, privateSettingGroup, UploadUrl } from \"@/common/constants\";\r\nimport { request } from \"@/utils/request\";\r\nimport { getMyUserInfo } from \"@/common/storageFunctions\";\r\nimport aes from '@/utils/aes/export';\r\nimport { deleteMyArticle, getUserinfo, } from \"@/common/requestFunctions\";\r\nimport { USER_INFO, getFansNumberChangedKey, getFollowedNumberChangedKey, getViewsNumberChangedKey, } from \"@/common/storageKeys\";\r\nimport { REFRESH_USERINFO } from \"@/common/globalMsgKeys\";\r\nimport { changeUnreadMessageSum } from \"@/utils/tabBarBadgeUtils\";\r\n/**\r\n * mine 我的界面\r\n * @description 我的界面\r\n * @Author: 穆兰\r\n * @Date: 2022/1/4\r\n * @LastEditors: 穆兰\r\n * @LastEditTime: 2022/1/10\r\n */\r\nexport default {\r\n    data() {\r\n        return {\r\n            privateSettingGroup,\r\n            privateSelected: privateSettingGroup[0],\r\n            isRefresh: false,\r\n            userInfo: {},\r\n            myArticles: [],\r\n            articlesPage: 1,\r\n            haveMoreArtices: true,\r\n            editArticleItem: {},\r\n            numberChange: {\r\n                followedNumber: 0,\r\n                fansNumber: 0,\r\n                viewsNumber: 0\r\n            },\r\n            lastClickTime: 0,\r\n        };\r\n    },\r\n    async onLoad() {\r\n        this.refreshUserInfo();\r\n    },\r\n    async onShow() {\r\n        changeUnreadMessageSum();\r\n        let _this = this;\r\n        uni.$once(REFRESH_USERINFO, function (data) {\r\n            if (data.needRefresh) {\r\n                _this.refreshUserInfo();\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        /**\r\n         * @description 跳转到指定页面\r\n         * @param {string} url 页面跳转的url\r\n         */\r\n        onNavigateTo(page_url) {\r\n            console.log(page_url);\r\n            uni.navigateTo({\r\n                url: page_url\r\n            });\r\n        },\r\n        /**\r\n         * @description  刷新用户信息\r\n         */\r\n        async refreshUserInfo() {\r\n            this.userInfo = await getMyUserInfo();\r\n            if (!this.userInfo) {\r\n                uni.showModal({\r\n                    title: '未登录',\r\n                    content: '未登录请先登录',\r\n                    success: function (res) {\r\n                        if (res.confirm) {\r\n                            uni.navigateTo({\r\n                                url: \"/pages/login/login\"\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n                this.myArticles = [];\r\n                this.articlesPage = 1;\r\n            }\r\n            else {\r\n                this.initNumberChange(this.userInfo);\r\n                this.getMyArticle(this.userInfo.id, this.articlesPage);\r\n            }\r\n        },\r\n        /**\r\n         * @description 初始化关注、粉丝、和访客的数据\r\n         * @param {UserInfo} userInfo 用户之前缓存的数据\r\n         */\r\n        async initNumberChange(userInfo) {\r\n            //获取key\r\n            let FOLLOWED_NUMBER_CHANGED = getFollowedNumberChangedKey(userInfo.id);\r\n            let FANS_NUMBER_CHANGED = getFansNumberChangedKey(userInfo.id);\r\n            let VIEWS_NUMBER_CHANGED = getViewsNumberChangedKey(userInfo.id);\r\n            //读取数据\r\n            let followedNumberChanged = uni.getStorageSync(FOLLOWED_NUMBER_CHANGED);\r\n            let fansNumberChanged = uni.getStorageSync(FANS_NUMBER_CHANGED);\r\n            let viewsNumberChanged = uni.getStorageSync(VIEWS_NUMBER_CHANGED);\r\n            //为null则设置为0\r\n            if (!followedNumberChanged)\r\n                followedNumberChanged = 0;\r\n            if (!fansNumberChanged)\r\n                fansNumberChanged = 0;\r\n            if (!viewsNumberChanged)\r\n                viewsNumberChanged = 0;\r\n            //进行修改\r\n            let userInfoNow = await getUserinfo(userInfo.id);\r\n            if (userInfoNow) {\r\n                this.userInfo = userInfoNow;\r\n                followedNumberChanged = userInfoNow.attentionSum - userInfo.attentionSum + followedNumberChanged;\r\n                fansNumberChanged = userInfoNow.beAttentionSum - userInfo.beAttentionSum + fansNumberChanged;\r\n                viewsNumberChanged = userInfoNow.visitorSum - userInfo.visitorSum + viewsNumberChanged;\r\n                //保存修改后的数据\r\n                uni.setStorage({ key: USER_INFO, data: userInfoNow });\r\n                uni.setStorage({ key: FOLLOWED_NUMBER_CHANGED, data: followedNumberChanged > 0 ? followedNumberChanged : 0 });\r\n                uni.setStorage({ key: FANS_NUMBER_CHANGED, data: fansNumberChanged > 0 ? fansNumberChanged : 0 });\r\n                uni.setStorage({ key: VIEWS_NUMBER_CHANGED, data: viewsNumberChanged > 0 ? viewsNumberChanged : 0 });\r\n                this.numberChange = {\r\n                    followedNumber: followedNumberChanged,\r\n                    fansNumber: fansNumberChanged,\r\n                    viewsNumber: viewsNumberChanged\r\n                };\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击设置按钮\r\n         */\r\n        onSettingButtonClick() {\r\n            uni.navigateTo({\r\n                url: \"/pages/setting/setting\"\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击背景图\r\n         */\r\n        onBackgroundClick() {\r\n            let clickTime = Date.now();\r\n            if (clickTime - this.lastClickTime > 1000) {\r\n                this.lastClickTime = clickTime;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n            if (!this.userInfo) {\r\n                uni.showToast({\r\n                    title: '请先登录',\r\n                    icon: 'none'\r\n                });\r\n            }\r\n            if (!this.userInfo.vip || this.userInfo.vip.remainDays < 1) {\r\n                uni.showToast({\r\n                    title: '只有vip用户可以更换背景哦~',\r\n                    icon: 'none'\r\n                });\r\n                return;\r\n            }\r\n            let _this = this;\r\n            uni.chooseImage({\r\n                count: 1,\r\n                sizeType: ['original', 'compressed'],\r\n                sourceType: ['album'],\r\n                success: function (res) {\r\n                    // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\r\n                    var tempFiles = res.tempFilePaths;\r\n                    _this.changeBackgroud(tempFiles[0]);\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击关注数\r\n         */\r\n        onFollowedNumberClick() {\r\n            if (this.userInfo) {\r\n                uni.navigateTo({\r\n                    url: \"/pages/mine-secondary-page/follow-list/follow-list\"\r\n                });\r\n                this.numberChange.followedNumber = 0;\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击粉丝数\r\n         */\r\n        onFansNumberClick() {\r\n            if (this.userInfo) {\r\n                uni.navigateTo({\r\n                    url: \"/pages/mine-secondary-page/fan-list/fan-list\"\r\n                });\r\n                this.numberChange.fansNumber = 0;\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击访客数\r\n         */\r\n        onVisitorNumberClick() {\r\n            if (this.userInfo) {\r\n                uni.navigateTo({\r\n                    url: \"/pages/mine-secondary-page/visitor-list/visitor-list\"\r\n                });\r\n                this.numberChange.viewsNumber = 0;\r\n            }\r\n        },\r\n        /**\r\n         * @description 下拉刷新我的动态和信息\r\n         */\r\n        async onRefresh() {\r\n            this.isRefresh = true;\r\n            this.initNumberChange(this.userInfo);\r\n            this.getMyArticle(this.userInfo.id, this.articlesPage);\r\n        },\r\n        /**\r\n         * @description 点击选择某个隐私权限选项\r\n         */\r\n        async onPrivaterAdioChange(evt) {\r\n            this.privateSelected = evt.detail.value;\r\n            let visibility = this.privateSettingGroup.indexOf(this.privateSelected);\r\n            if (this.editArticleItem.id) {\r\n                uni.showLoading({\r\n                    title: \"权限修改中\"\r\n                });\r\n                let res = await this.ChangeVisibility(this.editArticleItem.id, visibility);\r\n                uni.hideLoading();\r\n                if (res) {\r\n                    let myArticles = this.myArticles;\r\n                    for (let i = 0; i < myArticles.length; i++) {\r\n                        if (myArticles[i].id == this.editArticleItem.id) {\r\n                            myArticles[i].visibility = visibility;\r\n                            break;\r\n                        }\r\n                    }\r\n                    this.myArticles = myArticles;\r\n                    uni.showToast({\r\n                        title: \"可见性修改成功！\"\r\n                    });\r\n                    this.$refs.articleActionPopup.close();\r\n                }\r\n                else {\r\n                    this.privateSelected = this.privateSettingGroup[this.editArticleItem.visibility];\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击删除按钮\r\n         */\r\n        onActivityDeleteButtonClick() {\r\n            if (this.editArticleItem.id) {\r\n                let _this = this;\r\n                uni.showModal({\r\n                    title: \"删除动态\",\r\n                    content: \"你确定要删除这个动态吗\",\r\n                    confirmText: \"确定\",\r\n                    cancelText: \"取消\",\r\n                    success: async function (res) {\r\n                        if (res.confirm) {\r\n                            uni.showLoading({\r\n                                title: \"权限修改中\"\r\n                            });\r\n                            let res = await deleteMyArticle(_this.editArticleItem.id);\r\n                            uni.hideLoading();\r\n                            if (res) {\r\n                                let myArticles = _this.myArticles;\r\n                                for (let i = 0; i < myArticles.length; i++) {\r\n                                    if (myArticles[i].id == _this.editArticleItem.id) {\r\n                                        myArticles.splice(i, 1);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                _this.myArticles = myArticles;\r\n                                uni.showToast({\r\n                                    title: \"删除成功！\"\r\n                                });\r\n                                _this.$refs.articleActionPopup.close();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击单个动态\r\n         * @param {MyArticleItem} item\r\n         */\r\n        onActivityItemClick(item) {\r\n            uni.navigateTo({\r\n                url: `/pages/activity-info/activity-info?activityId=${item.id}`\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击单个动态的更多按钮\r\n         * @param {MyArticleItem} item\r\n         */\r\n        onActivityItemMoreClick(item) {\r\n            this.editArticleItem = item;\r\n            this.privateSelected = this.privateSettingGroup[item.visibility];\r\n            this.$refs.articleActionPopup.open();\r\n        },\r\n        /**\r\n         * @description 上拉获取之前发布的动态\r\n         */\r\n        onScrolltolower() {\r\n            if (!this.haveMoreArtices) { //没有更多时不进行请求\r\n                return;\r\n            }\r\n            this.articlesPage = this.articlesPage + 1;\r\n            this.getMyArticle(this.userInfo.id, this.articlesPage);\r\n        },\r\n        /**\r\n         * @description 获取我的动态\r\n         * @param userId 用户的id\r\n         * @param page 页号\r\n         */\r\n        async getMyArticle(userId, page) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'user',\r\n                    action: `${userId}/activity`,\r\n                    data: {\r\n                        userId: userId,\r\n                        page: page\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                this.isRefresh = false;\r\n            }, 700);\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let result = res.data.data;\r\n                let artices = res.data.data.list;\r\n                if (page <= result.pageSum) {\r\n                    if (page == 1) {\r\n                        this.myArticles = artices;\r\n                    }\r\n                    else {\r\n                        this.myArticles = this.myArticles.concat(artices);\r\n                    }\r\n                    if (page == result.pageSum) {\r\n                        this.haveMoreArtices = false;\r\n                    }\r\n                    else {\r\n                        this.haveMoreArtices = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this.articlesPage = this.articlesPage - 1;\r\n                    this.haveMoreArtices = false;\r\n                }\r\n            }\r\n            else {\r\n                console.log(res);\r\n            }\r\n        },\r\n        /**\r\n         * @description 修改指定动态的可见性\r\n         * @param {number} ArticleId 动态的id\r\n         * @param {number} visibility 可见状态 0-所有人可见，1-主页可见，2-仅自己可见\r\n         */\r\n        async ChangeVisibility(ArticleId, visibility) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'POST',\r\n                    group: 'activity',\r\n                    action: `${ArticleId}/visibility/change`,\r\n                    data: {\r\n                        id: ArticleId,\r\n                        visibility: visibility\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                return true;\r\n            }\r\n            else {\r\n                console.log(res);\r\n                return false;\r\n            }\r\n        },\r\n        /**\r\n         * @description 更换背景图\r\n         * @param {string} fileUrl 文件链接\r\n         */\r\n        async changeBackgroud(fileUrl) {\r\n            uni.showLoading({\r\n                title: '正在发布',\r\n            });\r\n            //先获取上传图片的凭证\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'user',\r\n                    action: 'background/token',\r\n                    data: {},\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                },\r\n            });\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let fileName = res.data.data.fileName;\r\n                let fileToken = res.data.data.token;\r\n                let _this = this;\r\n                uni.uploadFile({\r\n                    url: UploadUrl,\r\n                    filePath: fileUrl,\r\n                    name: 'file',\r\n                    formData: {\r\n                        'key': fileName,\r\n                        'token': aes.decrypt(fileToken)\r\n                    },\r\n                    async success(fileRes) {\r\n                        console.log('fileRes', fileRes);\r\n                        let backgroundChangeRes = await request({\r\n                            data: {\r\n                                method: 'POST',\r\n                                group: 'user',\r\n                                action: 'background/update',\r\n                                data: {\r\n                                    background: fileName\r\n                                },\r\n                                header: {\r\n                                    'content-type': 'application/x-www-form-urlencoded',\r\n                                },\r\n                            },\r\n                        });\r\n                        if (backgroundChangeRes.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                            uni.showToast({\r\n                                title: '更换背景成功'\r\n                            });\r\n                            _this.isRefresh = true;\r\n                        }\r\n                        else {\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                uni.showToast({ title: \"没有权限，请先登录\", icon: 'none' });\r\n                return;\r\n            }\r\n        }\r\n    },\r\n};\r\n","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}