{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/index/index.vue?3d8e","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/index/index.vue?8b1c","uni-app:///pages/index/index.vue?vue&type=script&lang=ts&","uni-app:///pages/index/index.vue","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/index/index.vue?09c6","webpack:///E:/Project/uniapp/bugu-star-uniapp/pages/index/index.vue?5a01"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","data","tabSelect","touchY","myId","editArticleItem","scrollInto","showBottomLoading","hotLabels","state","store","refresherEnabled","squareArticles","isRefresh","haveMoreData","page","hotArticles","onLoad","userInfo","id","getSquarearticles","onShow","console","log","socketStateStore","isConnectSocket","computed","newMessage","messageStore","watch","message","$refs","messagePopup","open","methods","onContentTouchStart","e","changedTouches","clientY","onContentTouchEnd","length","onSwiperTransition","onSwiperAnimationfinish","onActivityItemClick","item","uni","navigateTo","url","onSearchBarClick","onRefreshClick","onMoreClick","articleActionPopup","onPopupReportClick","reportObjectType","activity","close","onPopupDeleteClick","_this","showModal","title","content","success","res","confirm","artices","i","splice","showToast","icon","onCancelFollow","publisher","username","isAttention","attentionArticles","cancel","onFollow","onChatClick","onSwiperChange","detail","current","onTabsClick","tabNumber","onSquareIsRefresh","onSquareScrolltolower","onHotIsRefresh","getHotArticles","onHotScrolltolower","notPlaySound","method","group","action","header","setTimeout","code","REQUEST_SUCCEEDED_CODE","pageSum","articles","list","playRefreshDynamicSound","allarticles","concat","refreshDynamicSound","getStorageSync","REFRESH_DYNAMIC_SOUND","RingingToneList","innerAudioContext","createInnerAudioContext","autoplay","src"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\ntry {\n  components = {\n    customTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-tabs/custom-tabs\" */ \"@/components/custom-tabs/custom-tabs.vue\"\n      )\n    },\n    customTabPane: function() {\n      return import(\n        /* webpackChunkName: \"components/custom-tab-pane/custom-tab-pane\" */ \"@/components/custom-tab-pane/custom-tab-pane.vue\"\n      )\n    },\n    activityItem: function() {\n      return import(\n        /* webpackChunkName: \"components/activity-item/activity-item\" */ \"@/components/activity-item/activity-item.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    hotActivityItem: function() {\n      return import(\n        /* webpackChunkName: \"components/hot-activity-item/hot-activity-item\" */ \"@/components/hot-activity-item/hot-activity-item.vue\"\n      )\n    },\n    actionSheet: function() {\n      return import(\n        /* webpackChunkName: \"components/action-sheet/action-sheet\" */ \"@/components/action-sheet/action-sheet.vue\"\n      )\n    },\n    actionSheetItem: function() {\n      return import(\n        /* webpackChunkName: \"components/action-sheet-item/action-sheet-item\" */ \"@/components/action-sheet-item/action-sheet-item.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupMessage: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-message/uni-popup-message\" */ \"@/uni_modules/uni-popup/components/uni-popup-message/uni-popup-message.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--13-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=ts&\"","import { request } from '@/utils/request';\r\nimport { REQUEST_SUCCEEDED_CODE, reportObjectType, RingingToneList } from '@/common/constants';\r\nimport { getMyUserInfo } from \"@/common/storageFunctions\";\r\nimport { deleteMyArticle, cancelAttention, followUser, getHotLabels } from \"@/common/requestFunctions\";\r\nimport { REFRESH_DYNAMIC_SOUND } from \"@/common/storageKeys\";\r\nimport store from '@/store/index';\r\nimport { connectSocket } from \"@/utils/socket\";\r\nimport { initUnreadMessageSum } from \"@/utils/tabBarBadgeUtils\";\r\n/**\r\n * index 广场界面\r\n * @description 广场界面\r\n * @Author: 穆兰\r\n * @Date: 2021/12/27\r\n * @LastEditors: 穆兰\r\n * @LastEditTime: 2022/1/12\r\n */\r\nexport default {\r\n    components: {},\r\n    data() {\r\n        return {\r\n            tabSelect: 0,\r\n            touchY: 0,\r\n            myId: 0,\r\n            editArticleItem: {},\r\n            scrollInto: '',\r\n            showBottomLoading: false,\r\n            hotLabels: [],\r\n            state: store.state,\r\n            refresherEnabled: true,\r\n            squareArticles: {\r\n                data: [],\r\n                isRefresh: false,\r\n                haveMoreData: true,\r\n                page: 1,\r\n            },\r\n            hotArticles: {\r\n                data: [],\r\n                isRefresh: false,\r\n                haveMoreData: true,\r\n                page: 1,\r\n            },\r\n        };\r\n    },\r\n    async onLoad() {\r\n        let userInfo = await getMyUserInfo();\r\n        this.myId = userInfo.id;\r\n        await this.getSquarearticles(this.squareArticles.page, true);\r\n        this.hotLabels = await getHotLabels(1);\r\n        initUnreadMessageSum(userInfo.id);\r\n    },\r\n    async onShow() {\r\n        console.log('this.state.socketStateStore.isConnectSocket', this.state.socketStateStore.isConnectSocket);\r\n        if (!this.state.socketStateStore.isConnectSocket) {\r\n            connectSocket();\r\n        }\r\n    },\r\n    computed: {\r\n        newMessage() {\r\n            return this.state.messageStore.newMessage;\r\n        }\r\n    },\r\n    watch: {\r\n        newMessage: function (message) {\r\n            console.log('watch', message);\r\n            this.$refs.messagePopup.open();\r\n        },\r\n    },\r\n    methods: {\r\n        /**\r\n         * @description 用于当scroll内容过少无法下拉时加载更多数据\r\n         * @param {Object} e\r\n         */\r\n        onContentTouchStart(e) {\r\n            this.touchY = e.changedTouches[0].clientY;\r\n        },\r\n        /**\r\n         * @description 用于当scroll内容过少无法下拉时加载更多数据\r\n         * @param {Object} e\r\n         */\r\n        onContentTouchEnd(e) {\r\n            if (this.touchY - e.changedTouches[0].clientY > 50) {\r\n                if (this.tabSelect == 0) {\r\n                    //如果没有更多数据或者已经加载的数据大于10这不采用这种刷新方式\r\n                    if (!this.squareArticles.haveMoreData || this.squareArticles.data.length > 10) { //没有更多时不进行请求\r\n                        return;\r\n                    }\r\n                    this.showBottomLoading = true;\r\n                    this.squareArticles.page = this.squareArticles.page + 1;\r\n                    this.getSquarearticles(this.squareArticles.page);\r\n                }\r\n                else if (this.tabSelect == 1) {\r\n                    //如果没有更多数据或者已经加载的数据大于10这不采用这种刷新方式\r\n                    if (!this.hotArticles.haveMoreData || this.hotArticles.data.length > 10) { //没有更多时不进行请求\r\n                        return;\r\n                    }\r\n                    this.showBottomLoading = true;\r\n                    this.hotArticles.page = this.hotArticles.page + 1;\r\n                    this.getSquarearticles(this.hotArticles.page);\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * swiper位置变化时\r\n         */\r\n        onSwiperTransition() {\r\n            //swiper改变时禁用下拉刷新\r\n            this.refresherEnabled = false;\r\n        },\r\n        /**\r\n         * swiper动画结束 允许下拉刷新\r\n         */\r\n        onSwiperAnimationfinish() {\r\n            this.refresherEnabled = true;\r\n        },\r\n        /**\r\n         * @description 点击某个动态\r\n         * @param {ArticleItem}\r\n         */\r\n        onActivityItemClick(item) {\r\n            uni.navigateTo({\r\n                url: `/pages/activity-info/activity-info?activityId=${item.id}`\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击搜索框\r\n         */\r\n        onSearchBarClick() {\r\n            uni.navigateTo({\r\n                url: \"/pages/label-activity/search-activity\"\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击刷新按钮\r\n         */\r\n        onRefreshClick() {\r\n            if (this.tabSelect == 0) {\r\n                this.scrollInto = 'activity-search-bar-content';\r\n                this.squareArticles.page = 1;\r\n                this.squareArticles.isRefresh = true;\r\n            }\r\n            else if (this.tabSelect == 1) {\r\n                this.scrollInto = 'hot-scrollview-top';\r\n                this.hotArticles.page = 1;\r\n                this.hotArticles.isRefresh = true;\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击动态上的更多按钮\r\n         */\r\n        onMoreClick(item) {\r\n            this.$refs.articleActionPopup.open();\r\n            this.editArticleItem = item;\r\n        },\r\n        /**\r\n         * @description 点击popup的举报按钮\r\n         * @param {ArticleItem} item\r\n         */\r\n        onPopupReportClick(item) {\r\n            uni.navigateTo({\r\n                url: `/pages/setting/report-user/report-user?objectId=${item.id}&objectType=${reportObjectType.activity}`\r\n            });\r\n            this.$refs.articleActionPopup.close();\r\n        },\r\n        /**\r\n         * @description 点击popup的删除按钮\r\n         */\r\n        onPopupDeleteClick() {\r\n            let _this = this;\r\n            console.log(_this.editArticleItem);\r\n            uni.showModal({\r\n                title: '删除动态',\r\n                content: '你确定要删除这个动态吗',\r\n                success: async function (res) {\r\n                    if (res.confirm) {\r\n                        if (await deleteMyArticle(_this.editArticleItem.id)) {\r\n                            let artices = _this.squareArticles.data;\r\n                            for (let i = 0; i < artices.length; i++) {\r\n                                if (artices[i].id == _this.editArticleItem.id) {\r\n                                    artices.splice(i, 1);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            _this.squareArticles.data = artices;\r\n                            _this.$refs.articleActionPopup.close();\r\n                            uni.showToast({\r\n                                title: '删除成功',\r\n                                icon: 'success'\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        console.log(\"用户点击取消\");\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击popup的取消关注按钮\r\n         * @param item\r\n         */\r\n        async onCancelFollow(item) {\r\n            if (!item.publisher) {\r\n                return;\r\n            }\r\n            let _this = this;\r\n            uni.showModal({\r\n                title: '取消关注',\r\n                content: `你确定要取消关注${item.publisher.username}`,\r\n                success: async function (res) {\r\n                    if (res.confirm) {\r\n                        if (item.publisher)\r\n                            if (await cancelAttention(item.publisher.id)) {\r\n                                let squareArticles = _this.squareArticles.data;\r\n                                for (let i = 0; i < squareArticles.length; i++) {\r\n                                    if (squareArticles[i].publisher && squareArticles[i].publisher\r\n                                        .id == item.publisher.id) {\r\n                                        squareArticles[i].publisher.isAttention = 0;\r\n                                    }\r\n                                }\r\n                                let attentionArticles = _this.attentionArticles.data;\r\n                                for (let i = 0; i < attentionArticles.length; i++) {\r\n                                    if (attentionArticles[i].publisher && attentionArticles[i]\r\n                                        .publisher.id ==\r\n                                        item.publisher.id) {\r\n                                        attentionArticles[i].publisher.isAttention = 0;\r\n                                    }\r\n                                }\r\n                                let hotArticles = _this.hotArticles.data;\r\n                                for (let i = 0; i < hotArticles.length; i++) {\r\n                                    if (hotArticles[i].publisher && hotArticles[i].publisher.id ==\r\n                                        item.publisher.id) {\r\n                                        hotArticles[i].publisher.isAttention = 0;\r\n                                    }\r\n                                }\r\n                                _this.squareArticles.data = squareArticles;\r\n                                _this.attentionArticles.data = attentionArticles;\r\n                                _this.hotArticles.data = hotArticles;\r\n                                _this.$refs.articleActionPopup.close();\r\n                                uni.showToast({\r\n                                    title: '取消关注',\r\n                                    icon: 'success'\r\n                                });\r\n                            }\r\n                    }\r\n                    else if (res.cancel) {\r\n                        console.log('用户点击取消');\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        /**\r\n         * @description 点击popup/activity-item的关注按钮\r\n         *  @param item\r\n         */\r\n        async onFollow(item) {\r\n            if (!item.publisher) {\r\n                return;\r\n            }\r\n            let _this = this;\r\n            if (await followUser(item.publisher.id)) {\r\n                let squareArticles = _this.squareArticles.data;\r\n                for (let i = 0; i < squareArticles.length; i++) {\r\n                    if (squareArticles[i].publisher && squareArticles[i].publisher.id == item.publisher.id) {\r\n                        squareArticles[i].publisher.isAttention = 1;\r\n                    }\r\n                }\r\n                let attentionArticles = _this.attentionArticles.data;\r\n                for (let i = 0; i < attentionArticles.length; i++) {\r\n                    if (attentionArticles[i].publisher && attentionArticles[i].publisher.id ==\r\n                        item.publisher.id) {\r\n                        attentionArticles[i].publisher.isAttention = 1;\r\n                    }\r\n                }\r\n                let hotArticles = _this.hotArticles.data;\r\n                for (let i = 0; i < hotArticles.length; i++) {\r\n                    if (hotArticles[i].publisher && hotArticles[i].publisher.id ==\r\n                        item.publisher.id) {\r\n                        hotArticles[i].publisher.isAttention = 1;\r\n                    }\r\n                }\r\n                _this.squareArticles.data = squareArticles;\r\n                _this.attentionArticles.data = attentionArticles;\r\n                _this.hotArticles.data = hotArticles;\r\n                _this.$refs.articleActionPopup.close();\r\n                uni.showToast({\r\n                    title: '关注成功',\r\n                    icon: 'success'\r\n                });\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击popup私聊按钮\r\n         *  @param item\r\n         */\r\n        async onChatClick(item) {\r\n            if (item.publisher)\r\n                uni.navigateTo({\r\n                    url: `/pages/message-secondary-page/chat-content/chat-content?fromUserId=${item.publisher.id}`\r\n                });\r\n        },\r\n        /**\r\n         * @description 切换页面时\r\n         * @param {Object} e\r\n         */\r\n        onSwiperChange(e) {\r\n            console.log(this.refresherEnabled);\r\n            this.tabSelect = e.detail.current;\r\n            if (this.tabSelect == 1) {\r\n                if (this.hotArticles.data.length < 1 && this.hotArticles.haveMoreData) {\r\n                    this.hotArticles.isRefresh = true;\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * @description 点击导航标签\r\n         * @param {number} 点击的第几个\r\n         */\r\n        onTabsClick(tabNumber) {\r\n            this.tabSelect = tabNumber;\r\n        },\r\n        /**\r\n         * @description 下拉刷新广场动态\r\n         */\r\n        onSquareIsRefresh() {\r\n            this.squareArticles.isRefresh = true;\r\n            this.squareArticles.page = 1;\r\n            this.getSquarearticles(this.squareArticles.page);\r\n        },\r\n        /**\r\n         * @description 获取之前的广场动态\r\n         */\r\n        onSquareScrolltolower() {\r\n            if (!this.squareArticles.haveMoreData) { //没有更多时不进行请求\r\n                return;\r\n            }\r\n            this.showBottomLoading = true;\r\n            this.squareArticles.page = this.squareArticles.page + 1;\r\n            this.getSquarearticles(this.squareArticles.page);\r\n        },\r\n        /**\r\n         * @description 下拉刷新热门动态\r\n         */\r\n        onHotIsRefresh() {\r\n            this.hotArticles.isRefresh = true;\r\n            this.hotArticles.page = 1;\r\n            this.getHotArticles(this.hotArticles.page);\r\n        },\r\n        /**\r\n         * @description 上拉获取之前的热门动态\r\n         */\r\n        onHotScrolltolower() {\r\n            if (!this.hotArticles.haveMoreData) { //没有更多时不进行请求\r\n                return;\r\n            }\r\n            this.showBottomLoading = true;\r\n            this.hotArticles.page = this.hotArticles.page + 1;\r\n            this.getHotArticles(this.hotArticles.page);\r\n        },\r\n        /**\r\n         *\r\n         * @description 获取推荐的动态列表\r\n         * @param page 第几页\r\n         * @param notPlaySound 可选参数是否播放刷新音效\r\n         */\r\n        async getSquarearticles(page, notPlaySound = false) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'square',\r\n                    data: {\r\n                        page\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                this.squareArticles.isRefresh = false;\r\n            }, 700);\r\n            this.showBottomLoading = false;\r\n            console.log(res.data);\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let pageSum = res.data.data.pageSum;\r\n                let articles = res.data.data.list;\r\n                if (page === 1) {\r\n                    uni.showToast({\r\n                        title: '刷新成功',\r\n                        icon: 'none'\r\n                    });\r\n                    if (!notPlaySound) {\r\n                        this.playRefreshDynamicSound();\r\n                    }\r\n                    this.squareArticles.data = articles;\r\n                    this.scrollInto = '';\r\n                    this.squareArticles.haveMoreData = true;\r\n                }\r\n                else {\r\n                    if (page > pageSum) { //判断是不是最后一页\r\n                        this.squareArticles.haveMoreData = false;\r\n                        this.squareArticles.page = page - 1;\r\n                    }\r\n                    else {\r\n                        let allarticles = this.squareArticles.data.concat(articles);\r\n                        this.squareArticles.data = allarticles;\r\n                        if (page == pageSum) {\r\n                            this.squareArticles.haveMoreData = false;\r\n                        }\r\n                        else {\r\n                            this.squareArticles.haveMoreData = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (articles.length < 1) { //如果这一页没有动态则切换到下一页\r\n                    if (page < pageSum) {\r\n                        this.squareArticles.page = page + 1;\r\n                        this.getSquarearticles(this.squareArticles.page, true);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         *\r\n         * @description 获取热门的动态列表\r\n         * @param page 第几页\r\n         * @param notPlaySound 可选参数是否播放刷新音效\r\n         */\r\n        async getHotArticles(page, notPlaySound = false) {\r\n            let res = await request({\r\n                data: {\r\n                    method: 'GET',\r\n                    group: 'activity',\r\n                    action: 'hot',\r\n                    data: {\r\n                        page\r\n                    },\r\n                    header: {\r\n                        'content-type': 'application/x-www-form-urlencoded',\r\n                    },\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                this.hotArticles.isRefresh = false;\r\n            }, 700);\r\n            this.showBottomLoading = false;\r\n            console.log(res.data);\r\n            if (res.data.code === REQUEST_SUCCEEDED_CODE) {\r\n                let pageSum = res.data.data.pageSum;\r\n                let articles = res.data.data.list;\r\n                if (page === 1) {\r\n                    uni.showToast({\r\n                        title: '刷新成功',\r\n                        icon: 'none'\r\n                    });\r\n                    if (!notPlaySound) {\r\n                        this.playRefreshDynamicSound();\r\n                    }\r\n                    this.hotArticles.data = articles;\r\n                    this.scrollInto = '';\r\n                    this.hotArticles.haveMoreData = true;\r\n                }\r\n                else {\r\n                    if (page > pageSum) {\r\n                        this.hotArticles.haveMoreData = false;\r\n                        this.hotArticles.page = page - 1;\r\n                    }\r\n                    else {\r\n                        let allarticles = this.hotArticles.data.concat(articles);\r\n                        this.hotArticles.data = allarticles;\r\n                        if (page == pageSum) {\r\n                            this.hotArticles.haveMoreData = false;\r\n                        }\r\n                        else {\r\n                            this.hotArticles.haveMoreData = true;\r\n                        }\r\n                    }\r\n                }\r\n                if (articles.length < 1) { //如果这一页没有动态则切换到下一页\r\n                    if (page < pageSum) {\r\n                        this.hotArticles.page = page + 1;\r\n                        this.getHotArticles(this.hotArticles.page, true);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * @description 播放刷新音效\r\n         */\r\n        async playRefreshDynamicSound() {\r\n            let refreshDynamicSound = uni.getStorageSync(REFRESH_DYNAMIC_SOUND);\r\n            if (!refreshDynamicSound) {\r\n                refreshDynamicSound = RingingToneList[6];\r\n            }\r\n            const innerAudioContext = uni.createInnerAudioContext();\r\n            innerAudioContext.autoplay = true;\r\n            innerAudioContext.src = refreshDynamicSound.url;\r\n        }\r\n    }\r\n};\r\n","import mod from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642831268718\n      var cssReload = require(\"E:/HBuilderX.3.3.3.20211225.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}